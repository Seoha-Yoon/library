# 도서관 웹 서비스 프로젝트

## Day1. 단순 회원가입, 로그인 구현

스프링 로그인, 회원가입은 대부분 Spring Security로 작성한다. 하지만 무작정 따라하기에는 어려움을 느껴서 기본적으로 알고 있는 스프링 구조를 이용하여, 단순 로그인 및 회원가입을 구현해봤다.

Spring + h2 database + JPA



**1. Member Entity 생성**

* 각 컬럼명으로 id, email, password, name, date을 가지는 Member Entity를 생성시켜주었다. 이 때, email, password, name은 유저로부터 입력 받을 값이다.

* id는 자동으로 생성된다.

**2. Member Repository 생성**

* JPA로 Member 저장소의 로직을 작성한다. 나는 다음과 같은 로직을 작성했다.
  
  * 저장소에 멤버 저장
  
  * 이메일로 유저 찾기
  
  * 이메일과 비밀번호로 유저 찾기

**3. Member Service 생성**

* 멤버 레포지토리에 작성한 로직을 서비스 계층으로 가져온다.

* 중복 회원가입을 방지하는 로직도 추가하여, 유저를 저장소에 저장시킬 때 검증을 해준다.

**4. Member Controller 생성**

* 위에서 작성한 것들을 바탕으로 웹 페이지를 만들어주었다.
  
  * "/": 로그인 페이지
  
  * "/signIn": 로그인 성공 여부 확인 페이지
  
  * "/signUp": 회원가입 페이지(멤버 폼을 받는다.), 성공하면 로그인 페이지로 리다이렉트



* **회원 가입 로직**
  
  * 유저로부터 이메일, 패스워드, 이름을 입력받아 진행한다. 이 때, 이메일과 패스워드는 빈 칸이 아님을 체크한다. (@Valid 사용)
  
  * 개선점
    
    * 중복된 회원이 있을 때, 예외는 잘 잡아내지만 Whitelabel Error Page가 생성된다. 적절한 예외 처리를 사용해서 잡아내야할 것 같다.
    
    * 현재는 Spring Security를 사용하지 않아서 비밀번호가 암호화되지 않고 그대로 DB에 저장된다. 비밀번호 암호화가 필요하다.

* **로그인 로직**
  
  * 유저로부터 패스워드와 이메일을 입력받아, DB에서 해당되는 정보가 있는지 찾은 후 로그인 여부를 판별한다.
  
  * 개선점
    
    * 이게 맞는 로직인지 잘 모르겠다.
    
    * 현재는 로그인 성공 여부만 알려준다. 추후에 Spring Security를 적용하게 된다면 권한 설정도 함께 이루어져야 할 듯 하다.
